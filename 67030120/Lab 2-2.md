คำถาม

1.1 ทำไม 10 / 3.0 (เมื่อตัวหารเป็น float หรือ double) ถึงได้ผลลัพธ์เป็นทศนิยม แต่เมื่อตัวหารถูกแปลงเป็น int แล้วผลลัพธ์เป็นจำนวนเต็ม?
ตอบ ในภาษา C/C++ เมื่อมีการคำนวณทางคณิตศาสตร์ระหว่างตัวแปรที่มี ชนิดข้อมูลต่างกัน (เช่น int กับ float) จะเกิดสิ่งที่เรียกว่า Type Promotion ซึ่งจะ "ยกชนิดข้อมูล" ที่ต่ำกว่าให้เป็นชนิดที่สูงกว่าโดยอัตโนมัติ
ในกรณีนี้: 10 / 3.0 → ตัวหารเป็น float ดังนั้น 10 (ซึ่งเป็น int) จะถูกแปลงเป็น float ด้วย ทำให้ผลลัพธ์เป็น 3.33
10 / 3.0 (ที่ใช้ double) → ผลลัพธ์จะเป็น 3.3333333333 เพราะ double มีความแม่นยำมากกว่า float
10 / (int)3.0 → ทั้งสองค่ากลายเป็น int (คือ 10 / 3) ดังนั้นระบบจะใช้การหารแบบจำนวนเต็ม ซึ่ง ส่วนทศนิยมจะถูกตัดทิ้ง ผลลัพธ์จึงเป็น 3
สรุป: ค่าทศนิยมจะเกิดขึ้นต่อเมื่อมีการคำนวณด้วย float หรือ double อย่างน้อยหนึ่งตัวแปร แต่ถ้าทั้งสองเป็น int ระบบจะตัดส่วนทศนิยมทิ้ง

คำถาม
ในการเขียนโปรแกรม ต้องทำ Type Casting ในสถานการณ์ใดบ้าง
ตอบ การทำ Type Casting จำเป็นเมื่อต้อง
ป้องกันการตัดค่าทศนิยมโดยไม่ตั้งใจ
แปลงข้อมูลให้ตรงกับชนิดที่ต้องการใช้หรือแสดงผล
ควบคุมการทำงานของโปรแกรมให้มีความแม่นยำและตรงตามความตั้งใจของผู้เขียน
